# T242: Create Language-Specific Installation Guides

> **Priority**: P0 | **Wave**: 1 | **Track**: A (Documentation)
> **Depends on**: T240 (README.md update)
> **Estimated complexity**: Medium

## 1. Objective

Create comprehensive installation documentation for non-Node.js developers. While ai-tool-sync is distributed via npm, it works with ANY programming language since the `.ai-tool-sync/` configuration is just YAML and Markdown. This guide helps Python, PHP, Go, Rust, Ruby, Java, and .NET developers get started.

## 2. Prior Art (IMPORTANT)

Reference existing documentation:
- [README.md](README.md) - Current quick start section
- [docs/CONFIGURATION.md](docs/CONFIGURATION.md) - Config reference format
- [src/transformers/condition-evaluator.ts](src/transformers/condition-evaluator.ts) - Supported package ecosystems for `when:` conditions

## 3. File Structure

```
docs/
└── INSTALLATION.md         # NEW: Language-specific installation guides
```

## 4. Document Structure

### 4.1 Introduction

```markdown
# Installation Guide

ai-tool-sync is distributed as an npm package but works with **any** programming language or framework. The `.ai-tool-sync/` configuration folder is just YAML and Markdown — no Node.js code runs in your project.

## Quick Install

```bash
# Option 1: Global npm install (recommended for frequent use)
npm install -g @anthropic/ai-tool-sync

# Option 2: npx (no install required, runs latest version)
npx @anthropic/ai-tool-sync init

# Option 3: Docker (no Node.js required)
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

## Requirements

- **Node.js 18+** for npm installation
- **OR** Docker for containerized usage
- No runtime dependencies needed in your project
```

### 4.2 Node.js / TypeScript Section

```markdown
## Node.js / TypeScript / JavaScript

The native environment — multiple installation options available.

### Global Install (Recommended)

```bash
npm install -g @anthropic/ai-tool-sync
```

### Project Dev Dependency

```bash
npm install --save-dev @anthropic/ai-tool-sync
# or
yarn add -D @anthropic/ai-tool-sync
# or
pnpm add -D @anthropic/ai-tool-sync
# or
bun add -d @anthropic/ai-tool-sync
```

### package.json Scripts

```json
{
  "scripts": {
    "ai-sync": "ai-sync",
    "ai-sync:watch": "ai-sync --watch",
    "postinstall": "ai-sync"
  }
}
```

The `postinstall` script ensures configs regenerate when teammates run `npm install`.
```

### 4.3 Python Section

```markdown
## Python

No Python package required — install via npm globally or use Docker.

### Installation

```bash
# Option 1: Global npm (if Node.js available)
npm install -g @anthropic/ai-tool-sync

# Option 2: npx (no install)
npx @anthropic/ai-tool-sync init

# Option 3: Docker (no Node.js required)
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for Python

ai-tool-sync automatically detects Python dependencies from:
- `requirements.txt`
- `pyproject.toml`
- `Pipfile`

```yaml
# .ai-tool-sync/rules/django.md
---
name: django
description: Django project guidelines
when: pip:django
globs: ["**/*.py", "**/templates/**/*.html"]
---

# Django Guidelines

[Your Django-specific rules...]
```

```yaml
# .ai-tool-sync/rules/flask.md
---
name: flask
when: pip:flask
globs: ["**/*.py"]
---
```

### CI Integration (GitHub Actions)

```yaml
- uses: actions/setup-node@v4
  with:
    node-version: '20'
- run: npx @anthropic/ai-tool-sync validate
```
```

### 4.4 PHP Section

```markdown
## PHP (Laravel, Symfony, WordPress, etc.)

No Composer package required — install via npm globally or use Docker.

### Installation

```bash
# Option 1: Global npm
npm install -g @anthropic/ai-tool-sync

# Option 2: Docker
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for PHP

ai-tool-sync reads `composer.json` for dependency detection:

```yaml
# .ai-tool-sync/rules/laravel.md
---
name: laravel
description: Laravel framework guidelines
when: composer:laravel/framework
globs: ["app/**/*.php", "routes/**/*.php"]
---

# Laravel Guidelines

[Your Laravel-specific rules...]
```

```yaml
# .ai-tool-sync/rules/symfony.md
---
name: symfony
when: composer:symfony/framework-bundle
globs: ["src/**/*.php"]
---
```

### Composer Scripts (Optional)

```json
{
  "scripts": {
    "post-install-cmd": ["npx @anthropic/ai-tool-sync || true"]
  }
}
```
```

### 4.5 Go Section

```markdown
## Go

No Go module required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for Go

ai-tool-sync parses `go.mod` for dependency detection:

```yaml
# .ai-tool-sync/rules/gin.md
---
name: gin
description: Gin web framework guidelines
when: go:github.com/gin-gonic/gin
globs: ["**/*.go"]
---

# Gin Guidelines

[Your Gin-specific rules...]
```

```yaml
# .ai-tool-sync/rules/grpc.md
---
name: grpc
when: go:google.golang.org/grpc
globs: ["**/*.go", "**/*.proto"]
---
```

### Makefile Integration

```makefile
.PHONY: ai-sync
ai-sync:
	npx @anthropic/ai-tool-sync

.PHONY: ai-sync-watch
ai-sync-watch:
	npx @anthropic/ai-tool-sync --watch
```
```

### 4.6 Rust Section

```markdown
## Rust

No Cargo crate required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for Rust

ai-tool-sync parses `Cargo.toml` for dependency detection:

```yaml
# .ai-tool-sync/rules/tokio.md
---
name: tokio
description: Tokio async runtime guidelines
when: cargo:tokio
globs: ["src/**/*.rs"]
---

# Tokio Guidelines

[Your async Rust rules...]
```

```yaml
# .ai-tool-sync/rules/serde.md
---
name: serde
when: cargo:serde
globs: ["**/*.rs"]
---
```
```

### 4.7 Ruby Section

```markdown
## Ruby

No gem required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for Ruby

ai-tool-sync parses `Gemfile` for dependency detection:

```yaml
# .ai-tool-sync/rules/rails.md
---
name: rails
description: Ruby on Rails guidelines
when: gem:rails
globs: ["app/**/*.rb", "config/**/*.rb"]
---

# Rails Guidelines

[Your Rails-specific rules...]
```

### Rake Task (Optional)

```ruby
# Rakefile
namespace :ai do
  desc "Sync AI tool configurations"
  task :sync do
    sh "npx @anthropic/ai-tool-sync"
  end
end
```
```

### 4.8 Java/Kotlin Section

```markdown
## Java / Kotlin

No Maven/Gradle plugin required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for JVM

ai-tool-sync parses `pom.xml` and `build.gradle`/`build.gradle.kts`:

```yaml
# .ai-tool-sync/rules/spring-boot.md
---
name: spring-boot
description: Spring Boot guidelines
when: maven:spring-boot-starter-web
globs: ["src/**/*.java", "src/**/*.kt"]
---

# Spring Boot Guidelines

[Your Spring-specific rules...]
```

```yaml
# .ai-tool-sync/rules/kotlin.md
---
name: kotlin
when: gradle:org.jetbrains.kotlin:kotlin-stdlib
globs: ["**/*.kt"]
---
```
```

### 4.9 .NET Section

```markdown
## .NET / C#

No NuGet package required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for .NET

ai-tool-sync parses `*.csproj` and `packages.config`:

```yaml
# .ai-tool-sync/rules/aspnet.md
---
name: aspnet
description: ASP.NET Core guidelines
when: nuget:Microsoft.AspNetCore.App
globs: ["**/*.cs"]
---

# ASP.NET Core Guidelines

[Your ASP.NET rules...]
```
```

### 4.10 Dart/Flutter Section

```markdown
## Dart / Flutter

No pub package required — install via npm globally or use Docker.

### Installation

```bash
npm install -g @anthropic/ai-tool-sync
# or
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init
```

### Conditional Rules for Dart

ai-tool-sync parses `pubspec.yaml`:

```yaml
# .ai-tool-sync/rules/flutter.md
---
name: flutter
description: Flutter app guidelines
when: pub:flutter
globs: ["lib/**/*.dart"]
---

# Flutter Guidelines

[Your Flutter rules...]
```
```

### 4.11 Docker Section

```markdown
## Docker Usage

For teams that prefer not to install Node.js locally.

### Basic Commands

```bash
# Initialize
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync init

# Sync
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync

# Validate
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync validate

# With options
docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync --dry-run --verbose
```

### Shell Alias

```bash
# Add to ~/.bashrc or ~/.zshrc
alias ai-sync='docker run -v $(pwd):/workspace ghcr.io/anthropic/ai-tool-sync'
```

Then use: `ai-sync init`, `ai-sync --dry-run`, etc.
```

### 4.12 CI/CD Section

```markdown
## CI/CD Integration

### GitHub Actions

```yaml
name: AI Tool Sync Validation
on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npx @anthropic/ai-tool-sync validate
```

### GitLab CI

```yaml
ai-sync:
  image: node:20-alpine
  script:
    - npx @anthropic/ai-tool-sync validate
  rules:
    - changes:
        - .ai-tool-sync/**/*
```

### Pre-commit Hook

```bash
#!/bin/sh
# .git/hooks/pre-commit
npx @anthropic/ai-tool-sync validate || exit 1
```
```

### 4.13 Verification Section

```markdown
## Verifying Installation

```bash
# Check version
ai-sync --version

# Validate your configuration
ai-sync validate

# Preview what would be generated
ai-sync --dry-run --verbose

# Generate configurations
ai-sync
```

## Troubleshooting

### "command not found: ai-sync"

Global npm packages may not be in your PATH. Try:

```bash
# Use npx instead
npx @anthropic/ai-tool-sync --version

# Or find npm global bin directory
npm config get prefix
# Add <prefix>/bin to your PATH
```

### Permission errors on global install

```bash
# Option 1: Use npx (no global install needed)
npx @anthropic/ai-tool-sync init

# Option 2: Fix npm permissions
# See: https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally
```
```

## 5. Implementation Requirements

### 5.1 Must Follow

- [x] Include all 10 supported package ecosystems from condition-evaluator.ts
- [x] Provide working `when:` condition examples for each language
- [x] Include both npm and Docker options for every language
- [x] Add CI/CD examples for common platforms
- [x] Keep examples concise and copy-pasteable

### 5.2 Critical Considerations

```markdown
❌ WRONG - Don't promise features that don't exist
Homebrew installation is T246-T247 (pending), mark as "Coming soon"

✅ CORRECT - Be accurate about current state
Docker image URL placeholder until T248 is complete
```

## 6. Acceptance Criteria

- [x] docs/INSTALLATION.md exists
- [x] Covers Node.js/TypeScript installation options
- [x] Covers Python with pip dependency examples
- [x] Covers PHP with Composer dependency examples
- [x] Covers Go with go.mod dependency examples
- [x] Covers Rust with Cargo.toml dependency examples
- [x] Covers Ruby with Gemfile dependency examples
- [x] Covers Java/Kotlin with Maven/Gradle examples
- [x] Covers .NET with NuGet dependency examples
- [x] Covers Dart/Flutter with pubspec.yaml examples
- [x] Includes Docker usage section
- [x] Includes CI/CD integration examples
- [x] Includes troubleshooting section
- [x] All `when:` condition examples match actual namespace syntax
- [x] plan.md updated to mark T242 as complete

## 7. Out of Scope

- Homebrew installation (T246-T247 - pending)
- Publishing Docker image (T248 - pending)
- Install script creation (T250 - pending)
- Language-specific package distribution (npm only for now)
